(this["webpackJsonpcc-assignment-2"]=this["webpackJsonpcc-assignment-2"]||[]).push([[0],{1184:function(e,t,a){},1185:function(e,t,a){},1186:function(e,t,a){},1201:function(e,t,a){},1202:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),i=a(15),o=a.n(i),s=a(60),c=a(323),m=a(31),u=a.n(m),d=a(59),h=a(16),p=a(14),g=a(17),b=a(18),E=a(23),f=a(19),v=a(93),y=a(133),O=a(411),j=a(10),k=a(410),I=a(174),N=a(22),C=function(e){var t=e.component,a=e.props,n=Object(N.a)(e,["component","props"]);return r.a.createElement(I.a,Object.assign({},n,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},S=(a(151),a(175)),w=a(176),L=a.n(w),T=a(28),M=a(52),A=a.n(M),x=Object(S.compose)(T.withScriptjs,T.withGoogleMap)((function(e){return r.a.createElement(T.GoogleMap,{defaultZoom:10,defaultCenter:{lat:n.state.mapPosition.lat,lng:n.state.mapPosition.lng}},e.markers.map((function(t){var a=e.onClick.bind(void 0,t);return r.a.createElement(T.Marker,{key:t.id,onClick:a,position:{lat:t.lat,lng:t.lng}},e.selectedMarker===t&&r.a.createElement(T.InfoWindow,null,r.a.createElement("div",null,r.a.createElement("h4",null,t.name),r.a.createElement("p",null,t.address),r.a.createElement("p",null,r.a.createElement(y.a,{to:"/location/".concat(t._id)},"Details")))))})))})),P=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleClick=function(e,t){a.setState({selectedMarker:e})},n=Object(E.a)(a),a.state={shelters:[],location:[],selectedMarker:!1,mapPosition:{lat:10.8231,lng:106.6297}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://vietnamsachvaxanh.com/location").then((function(e){return e.json()})).then((function(t){e.setState({location:t})}))}},{key:"render",value:function(){return r.a.createElement(x,{selectedMarker:this.state.selectedMarker,markers:this.state.location,onClick:this.handleClick,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA4UwK6X9-Oa5SdAapdiNPE8nAPJ6INRxw&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})}}]),t}(l.Component),z=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.name,a=e.locationOwner,n=e.address,l=e.description,i=e._id,o=e.time,s=e.lat,c=e.lng;return localStorage.getItem("email")===a?r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("h4",{class:"card-title"},t),r.a.createElement("p",{class:"card-text"},l),r.a.createElement("p",null,o),r.a.createElement("p",{class:"card-text"},a," "),r.a.createElement(y.a,{to:"/location/".concat(i)},"Details"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.b,null,r.a.createElement(j.a,{variant:"primary ",onClick:this.props.handleEdit.bind(this,t,n,l,i,o,s,c)},"Edit"),r.a.createElement(j.a,{variant:"danger",onClick:this.props.handleDeleteLocation.bind(this,i)}," delete ")))):r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("h4",{class:"card-title"},t),r.a.createElement("p",{class:"card-text"},l),r.a.createElement("p",null,o),r.a.createElement("p",{class:"card-text"},a," "),r.a.createElement("p",null),r.a.createElement(y.a,{to:"/location/".concat(i)},"Details")))}}]),t}(l.Component),Y=a(436),D=(a(1183),function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this,t=this.props.data.location.map((function(t){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement(z,Object.assign({},e.props,{data:t})))}));return r.a.createElement("div",null,r.a.createElement(Y.a,{style:{maxHeight:400}},t))}}]),t}(l.Component)),U=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={isLoading:!0,location:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"fetchLocation",value:function(){var e=this;console.log("fetch location"),fetch("https://vietnamsachvaxanh.com/location").then((function(e){return e.json()})).then((function(t){e.setState({location:t}),console.log(e.state.location.address)}))}},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.props.isAuthenticated),this.fetchLocation(),this.props.isAuthenticated){e.next=4;break}return e.abrupt("return");case 4:this.setState({isLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderLander",value:function(){return r.a.createElement("div",{className:"lander"},r.a.createElement(j.c,null,r.a.createElement(j.c.Item,{style:{height:500}},r.a.createElement("img",{className:"d-block w-100",src:"http://build-projects.org/wp-content/uploads/2018/10/svx-logo.png",alt:"First slide"}),r.a.createElement(j.c.Caption,null,r.a.createElement("h3",null,"Welcome to Vietnam Sach va Xanh"),r.a.createElement("p",null,r.a.createElement("b",null,"Please sign-up or log-in to proceed")))),r.a.createElement(j.c.Item,{style:{height:500}},r.a.createElement("img",{height:500,className:"d-block w-100 h-100",src:"https://4.bp.blogspot.com/-oxAP42k9ulA/XbVI5-_vvEI/AAAAAAAAJfw/Y4eTxtWpa2Ev349IE_V4ZnGTr_Zah0hywCLcBGAsYHQ/s1600/trees-mr-beast-n.jpg",alt:"Third slide"})),r.a.createElement(j.c.Item,{style:{height:500}},r.a.createElement("img",{className:"d-block w-100",src:"https://www.collegechoice.net/wp-content/uploads/2018/06/Best-Master_s-in-Environmental-Management.jpg",alt:"Third slide"}))))}},{key:"renderTest",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"test"},r.a.createElement(j.n,null,"Welcome to Viet Nam Sach Va Xanh."),r.a.createElement("h4",null,r.a.createElement("b",null,"Vietnam Clean & Green"),"\u2019s mission is to reduce littering in Vietnam and to bring about momentous societal change. We\u2019ll raise public awareness about the negative impacts of littering and highlight the importance of individual responsibility. To accomplish this mission, we seek to cooperate with companies, educational institutions, government agencies, NGOs and anyone else who believes in a cleaner country and world.",r.a.createElement("br",null),r.a.createElement("br",null),"We're passionate about Keeping Vietnam Beautiful!."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.o,null,r.a.createElement(j.d,{sm:8},r.a.createElement("h3",null,r.a.createElement("b",null,"Here are the current registered locations to select from.")),r.a.createElement(P,{data:this.state,google:this.props.google,center:{lat:10.8231,lng:106.6297},height:"400px",zoom:8})),r.a.createElement(j.d,{sm:4},r.a.createElement("h3",null,r.a.createElement("b",null," Location List")),r.a.createElement(D,Object.assign({},this.props,{data:this.state})))),r.a.createElement(j.j,null,!this.state.isLoading)))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},this.props.isAuthenticated?this.renderTest():this.renderLander())}}]),t}(l.Component),W=(a(1184),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),R=a(32),J=(a(1185),function(e){var t=e.isLoading,a=e.text,n=e.loadingText,l=e.className,i=void 0===l?"":l,o=e.disabled,s=void 0!==o&&o,c=Object(N.a)(e,["isLoading","text","loadingText","className","disabled"]);return r.a.createElement(j.a,Object.assign({className:"LoaderButton ".concat(i),disabled:s||t},c),t&&r.a.createElement(j.h,{glyph:"refresh",className:"spinning"}),t?n:a)}),V=(a(404),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),localStorage.setItem("email",a.state.email),a.setState({isLoading:!0}),e.prev=3,e.next=6,s.a.signIn(a.state.email,a.state.password);case 6:a.props.userHasAuthenticated(!0),a.props.history.push("/"),a.windowOnload(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),alert(e.t0.message),a.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"windowOnload",value:function(){console.log("load"),window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}},{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(j.g,{controlId:"email",bsSize:"large"},r.a.createElement(j.e,null,"Email"),r.a.createElement(j.f,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(j.g,{controlId:"password",bsSize:"large"},r.a.createElement(j.e,null,"Password"),r.a.createElement(j.f,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(J,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Login",loadingText:"Logging in\u2026"}),r.a.createElement("br",null)))}}]),t}(l.Component)),F=(a(1186),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.checkRegistrationForm()){e.next=5;break}return e.abrupt("return");case 5:return a.signUp(),a.setState({isLoading:!0}),e.prev=7,e.next=10,s.a.signUp({username:a.state.email,password:a.state.password});case 10:n=e.sent,a.setState({newUser:n}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),alert(e.t0.message);case 17:a.setState({isLoading:!1});case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),a.onChangeAge=function(e){var t=e.target.value;e.target.validity.valid?a.setState({age:e.target.value}):""!==t&&"-"!==t||a.setState({age:t})},a.onChangePhoneNumber=function(e){var t=e.target.value;e.target.validity.valid?a.setState({phoneNumber:e.target.value}):""!==t&&"-"!==t||a.setState({phoneNumber:t})},a.handleConfirmationSubmit=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,s.a.confirmSignUp(a.state.email,a.state.confirmationCode);case 5:return e.next=7,s.a.signIn(a.state.email,a.state.password);case 7:a.props.userHasAuthenticated(!0),a.props.history.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),alert(e.t0.message),a.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:"",fname:"",lname:"",age:"",gender:"",phoneNumber:"",imageUrl:"",confirmPassword:"",confirmationCode:"",newUser:null},a.signUp=a.signUp.bind(Object(E.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"signUp",value:function(){var e=this.state,t=e.email,a=e.fname,n=e.lname,l=e.age,r=e.gender,i=e.phoneNumber,o=e.imageUrl;console.log(t,a,n,l,r,i,o),localStorage.setItem("email",this.state.email),fetch("https://vietnamsachvaxanh.com/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:this.state.email,fName:this.state.fname,lName:this.state.lname,age:this.state.age,gender:this.state.gender,phoneNumber:this.state.phoneNumber,imageUrl:this.state.imageUrl})}).then((function(e){return e.json()}))}},{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"checkRegistrationForm",value:function(){var e=!0,t="",a="",n="",l="",r="";return(void 0==this.state.fname||this.state.fname.length<1)&&(t="fname with at least 1 characters  ",e=!1),(void 0==this.state.lname||this.state.lname.length<4)&&(a="lname must have at least 5 characters",e=!1),(void 0==this.state.age||"String"==this.state.age||this.state.age.length<1)&&(n="Your age is invalid ",e=!1),(void 0==this.state.gender||this.state.gender.length<1)&&(l="Please select a gender ",e=!1),(void 0==this.state.phoneNumber||this.state.phoneNumber.length<9)&&(r="Invalid. A phone number must have more than 9 numbers ",e=!1),document.getElementById("error-fname").innerHTML=t,document.getElementById("error-lname").innerHTML=a,document.getElementById("error-age").innerHTML=n,document.getElementById("error-gender").innerHTML=l,document.getElementById("error-phoneNumber").innerHTML=r,e}},{key:"validateConfirmationForm",value:function(){return this.state.confirmationCode.length>0}},{key:"renderConfirmationForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleConfirmationSubmit},r.a.createElement(j.g,{controlId:"confirmationCode",bsSize:"large"},r.a.createElement(j.e,null,"Confirmation Code"),r.a.createElement(j.f,{autoFocus:!0,type:"tel",value:this.state.confirmationCode,onChange:this.handleChange}),r.a.createElement(j.i,null,"Please check your email for the code.")),r.a.createElement(J,{block:!0,bsSize:"large",disabled:!this.validateConfirmationForm(),type:"submit",isLoading:this.state.isLoading,text:"Verify",loadingText:"Verifying\u2026"}))}},{key:"renderForm",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(j.g,{controlId:"email",bsSize:"large"},r.a.createElement(j.e,null,"Email"),r.a.createElement(j.f,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(j.g,{controlId:"fname",bsSize:"large"},r.a.createElement(j.e,null,"First Name"),r.a.createElement(j.f,{value:this.state.fname,onChange:this.handleChange,type:"fname"}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-fname"})),r.a.createElement(j.g,{controlId:"lname",bsSize:"large"},r.a.createElement(j.e,null,"Last Name"),r.a.createElement(j.f,{value:this.state.lname,onChange:this.handleChange,type:"lname"}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-lname"})),r.a.createElement(j.g,{controlId:"age",bsSize:"large"},r.a.createElement(j.e,null,"Age"),r.a.createElement(j.f,Object(R.a)({type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",value:this.state.age,onChange:this.onChangeAge},"type","age")),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-age"})),r.a.createElement(j.g,{controlId:"gender",bsSize:"large"},r.a.createElement(j.e,null,"Gender"),r.a.createElement("br",null),r.a.createElement("select",{gender:this.state.gender,onChange:this.handleChange},r.a.createElement("option",{gender:"grapefruit"},"Male"),r.a.createElement("option",{gender:"lime"},"Female"),r.a.createElement("option",{gender:"coconut"},"Other"),r.a.createElement("option",{gender:"mango"},"Prefer not to say"))),r.a.createElement(j.g,{controlId:"phoneNumber",bsSize:"large"},r.a.createElement(j.e,null,"Phone Number"),r.a.createElement(j.f,Object(R.a)({type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$",value:this.state.phoneNumber,onChange:this.onChangePhoneNumber},"type","phoneNumber")),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-phoneNumber"})),r.a.createElement(j.g,{controlId:"imageUrl",bsSize:"large"},r.a.createElement(j.e,null,"Photo URL"),r.a.createElement(j.f,{value:this.state.imageUrl,onChange:this.handleChange,placeholder:"Optional",type:"imageUrl"})),r.a.createElement(j.g,{controlId:"password",bsSize:"large"},r.a.createElement(j.e,null,"Password"),r.a.createElement(j.f,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(j.g,{controlId:"confirmPassword",bsSize:"large"},r.a.createElement(j.e,null,"Confirm Password"),r.a.createElement(j.f,{value:this.state.confirmPassword,onChange:this.handleChange,type:"password"})),r.a.createElement(J,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Signup",loadingText:"Signing up\u2026"}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Signup"},null===this.state.newUser?this.renderForm():this.renderConfirmationForm())}}]),t}(l.Component)),Z=a(421),_=a.n(Z),G=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={isLoggedIn:!1,userID:"",fname:"",age:"",email:"",imageUrl:"",phoneNumber:"",gender:"",locationOwner:""},a.responseFacebook=function(e){a.setState({isLoggedIn:!0,userID:e.userID,fname:e.name,email:e.email,imageUrl:e.picture.data.url}),localStorage.setItem("email",a.state.email),a.fetchMember()},a.handleChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.onChangeAge=function(e){var t=e.target.value;e.target.validity.valid?a.setState({age:e.target.value}):""!==t&&"-"!==t||a.setState({age:t})},a.onChangePhoneNumber=function(e){var t=e.target.value;e.target.validity.valid?a.setState({phoneNumber:e.target.value}):""!==t&&"-"!==t||a.setState({phoneNumber:t})},a.state={},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"signUp",value:function(){var e=this.state,t=e.email,a=e.fname,n=e.age,l=e.gender,r=e.phoneNumber,i=e.imageUrl;e.isRegistered;this.setState({isRegistered:!0}),fetch("https://vietnamsachvaxanh.com/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:t,fName:a,age:n,gender:l,phoneNumber:r,imageUrl:i,isRegistered:!0})}).then((function(e){return e.json()}))}},{key:"handleSubmitNoSignUp",value:function(){this.setState({isLoading:!0});try{localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.refreshToken","eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.VAoHCpHEkyZNMQfQjw_OgaLcJEDlnMQg3epPRd459PupY70MPE1EJOaZDBbicf1qKRieutVBElCKZg8pdo4NG1jaAGKY47UdiyhEQGiOAyke0RFMMyqXHUUIG479_qSTCsN_SgzaVKFzoe3OQyQdpSaRy1fPWzlqSuh9pPkOlJJOiCn1vHwiT33abGX2_OVzsLu_XLDZZgWtfN54DswBvenRC4z5J4NsDG8MPlo3E2sIMcZdfaelDFjrwqUEFYMxy5JDDntu8qBxSrpto7dHtAWN4NmyxPJpzBfletiRqJE-tUbvKwnlg43mjcrymzbDXXkABlyW-_urZyUTwqJVFA.SYNwz-sfkLKEEvlC.VLsdScb-nMMTid31PCNIxo8yvmU5r4Fk8XyKF1Jy_6v_6UX0NdEw273LdG-t7MI8_5Bf38JYTecPGpgJ5J-nxH-yTNcVlhEZ3FCRmmcWNGQQtzTo55Eq4q8RVax05ccUSV1krYMDEuZZs2BxUx0-blkJtv0csM8aguMhv3jGXbodc033UONfE6puBXVCweuOMy2s1TQXSjtNhZ4Bs0zVDqR8m0qbLGRpYhmHiVnZ7AFhSu9ngC6xbuNuEIs8bui7ashgaampjoWgEASsNJTbQcM4HDBSEcu7IoPQuxtCRl3xojS-jpGUC048ML2cQm8_E8HAfO2PNn7gQIpCZHbTpE_slkB_gYMT72GkYRuKbPTxAPgaNB4jxxsq6KxqG1a0gpA5SEhYeVN2aJNK-7n6AQM5UNGhxPBDpSU-eRI9PIYZgoPuPZks9DkYA8B_HhLqm8LbNo1q5tnKv9WK5ZQibE_dg89ZtRK6HS4EbhfsbBty0FGI8JWVmFADui9VRpX2kRlONCWK_hMGNYE4-9_de9eRbkUqyXLbYhztQ90EkpFdvgbXdTD0pz-w0kOwegbty8geBp1KDPxLF8DcWwraLIuEMVwmXoz9RtU5sZiHYTtMDhX2Li4Za8CDYG3ZDlomvJHwCdT-zs4eTguDCyOr_QPFrvMtG-F785Fn2qTlimdIddkdSLMeyYKxkr7etc7n4vyBMJLk6N9z0Tr4sezeyIg2MFVPFjDhS7YLYoSOaW5d6jbS9OF535Uv7U3vAdtkMLvsPGKftU6bkmK1kosavtW68Ok87QPseO2zbWVYTPH34o342HURa_RsKnKOZs7YH4dOtuddEvMnJ7dpn_fMAvvAzmKu56U-Y8d6WCReUcr0zn8Glwf2Z9r_IUw6QWUYUq_Hb9VH0eeSxfeJQ5Dfmn7zpaxVeuRb75difqTI4auk8YDEpdS1ny6hlD026A32ATmuRxW5w-_CgGNdagGUBzj9kVI6VkiDgAO3j_vGxhNyJt37jUjKsGq39tURPdUfB2Np_2KPsGtHbyt6wf_THOLpMtoe-q_iXD4FlahZocHmt8LDT5NgQfmAnNFI_hitctqLoDIt_E61ZxAEL6Y8KOv4tQ1RsI6lnAEZLneumFo5iJVdbMh5tUxnaJZi_LNds0ukZiudDwRN3NUuT56tnEKF51r1IO6x6lEEgIe8XYQn4iIjzgMyaW1imjfjjG-8AAn-_ZrnX9W6yyJTGF8JJ2Tskf0f2jHVzAhEPbgAinlBbevvEEMVAWcSad0Mg9dwQnlZswf-txcWS9B9JTKhRM7H_ukbR0FQzaiel88Kmt3ndw-L3sTTy9_WAnw.L4YljzA_Yvl-Oh3v34aMZg"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.idToken","eyJraWQiOiJEb2VCNHlBa2gyZE1wUkNEMjJuV1h2V2RRZTZON2k1RkJsYnZld1NUVVd3PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhYTUyNjQzMi0xY2M2LTRkYjktYTlhNS0wNzUxOTc1ZWQzNzgiLCJhdWQiOiIxdHRuZTE0ajMxMjFsbHQxMDh1OXE5cGNvOSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImYyNGQ2OWZhLWY4ZmItNGFmYS05MmIwLTI2YTYzNGQ3ZmY1NyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNTc0OTIwMjc0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85eUhFYWhQV3kiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWE1MjY0MzItMWNjNi00ZGI5LWE5YTUtMDc1MTk3NWVkMzc4IiwiZXhwIjoxNTc0OTIzODc2LCJpYXQiOjE1NzQ5MjAyNzYsImVtYWlsIjoidGhhbmgubmd1eWVubmdvY0BybWl0LmVkdS52biJ9.K5uI_VcVRFuG66X__kfaVjdtsu9da8OmO0at1LeUgs5-X0QmHvx5_V_CBpsrtHn8rPXLCV0AyzBmBI6pElxQLdrA2UzqnR4hWQTfJDN1goTi1ogjMwBvUy9O8MyxBCEE1DGdzU75JaFC09Y7ubKsdSdqyG8K3nnF9YktvKPHZCZ5A8Jc0M7wkXt3j2soY16XKe_aISYWJfBk4vdFWjQD-te4arW1wMTtiRj_Icl9jKFolcHkremf8DhdKAtni0_97HFwE2SewUILwbxROdRSznPrQ7uY-u3Se1XO-LDj5ELD55DtKOosVE_UvMWCV143e31dD7LZNQtjN-RGGzJpOQ"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.accessToken","eyJraWQiOiJiVlUxTkdqcGtzdUpDSURmdGQ4OVFZQWo2Ymk5eEZwb1pmajRONjVvbzY0PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhYTUyNjQzMi0xY2M2LTRkYjktYTlhNS0wNzUxOTc1ZWQzNzgiLCJldmVudF9pZCI6ImYyNGQ2OWZhLWY4ZmItNGFmYS05MmIwLTI2YTYzNGQ3ZmY1NyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE1NzQ5MjAyNzQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwvdXMtZWFzdC0xXzl5SEVhaFBXeSIsImV4cCI6MTU3NDkyMzg3NiwiaWF0IjoxNTc0OTIwMjc2LCJqdGkiOiJlMmNhYTFmZi0xYjA2LTRlMWYtODg3Zi04NjI1NmQ3NWVkNDYiLCJjbGllbnRfaWQiOiIxdHRuZTE0ajMxMjFsbHQxMDh1OXE5cGNvOSIsInVzZXJuYW1lIjoiYWE1MjY0MzItMWNjNi00ZGI5LWE5YTUtMDc1MTk3NWVkMzc4In0.R7fpC8m13dLNkIIBLLxgkK-C_5Rwe4gdYojqAiLzZoXGihJhAJM5W1emvJJ0DQ115ledQyK5S9duXlA5LEan84oFMM6d-h_u6IIUa3SWiWFdPIsmICLNux9MdzT2zZYtsbYhTCOZXDaBbwSIIwrLYGQ2f6yAwu7Ir9wz1vLRyfVvEoLs2vpFvcbZ9D6yQ4f30lpTw29tIQIxyGeyq9lMXLE6dBJeras8AUJyey_A--aB9DH3-h91UAKz_tI4OvnXRLFQlhivHGoRGbOCKf6HLUIhFhODOxAOP8IuHCPLn-V6GeYdg24bayuRPhjnugck0VCG0B-UoIBy7PSrdEujgg"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.clockDrift","-2"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.LastAuthUser","aa526432-1cc6-4db9-a9a5-0751975ed378"),localStorage.setItem("amplify-signin-with-hostedUI","false"),console.log("nosignup"),this.props.userHasAuthenticated(!0),this.props.history.push("/")}catch(n){alert(n.message),this.setState({isLoading:!1})}}},{key:"checkRegistrationForm",value:function(){var e=!0,t="",a="",n="";return(void 0==this.state.age||this.state.age.length<1)&&(t="Your age is invalid ",e=!1),(void 0==this.state.gender||this.state.gender.length<1)&&(a="Please select a gender ",e=!1),(void 0==this.state.phoneNumber||this.state.phoneNumber.length<9)&&(n="Invalid. A phone number must have more than 9 numbers ",e=!1),document.getElementById("error-age").innerHTML=t,document.getElementById("error-gender").innerHTML=a,document.getElementById("error-phoneNumber").innerHTML=n,e}},{key:"handleSubmit",value:function(){if(this.setState({isLoading:!0}),this.checkRegistrationForm()){localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.refreshToken","eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.VAoHCpHEkyZNMQfQjw_OgaLcJEDlnMQg3epPRd459PupY70MPE1EJOaZDBbicf1qKRieutVBElCKZg8pdo4NG1jaAGKY47UdiyhEQGiOAyke0RFMMyqXHUUIG479_qSTCsN_SgzaVKFzoe3OQyQdpSaRy1fPWzlqSuh9pPkOlJJOiCn1vHwiT33abGX2_OVzsLu_XLDZZgWtfN54DswBvenRC4z5J4NsDG8MPlo3E2sIMcZdfaelDFjrwqUEFYMxy5JDDntu8qBxSrpto7dHtAWN4NmyxPJpzBfletiRqJE-tUbvKwnlg43mjcrymzbDXXkABlyW-_urZyUTwqJVFA.SYNwz-sfkLKEEvlC.VLsdScb-nMMTid31PCNIxo8yvmU5r4Fk8XyKF1Jy_6v_6UX0NdEw273LdG-t7MI8_5Bf38JYTecPGpgJ5J-nxH-yTNcVlhEZ3FCRmmcWNGQQtzTo55Eq4q8RVax05ccUSV1krYMDEuZZs2BxUx0-blkJtv0csM8aguMhv3jGXbodc033UONfE6puBXVCweuOMy2s1TQXSjtNhZ4Bs0zVDqR8m0qbLGRpYhmHiVnZ7AFhSu9ngC6xbuNuEIs8bui7ashgaampjoWgEASsNJTbQcM4HDBSEcu7IoPQuxtCRl3xojS-jpGUC048ML2cQm8_E8HAfO2PNn7gQIpCZHbTpE_slkB_gYMT72GkYRuKbPTxAPgaNB4jxxsq6KxqG1a0gpA5SEhYeVN2aJNK-7n6AQM5UNGhxPBDpSU-eRI9PIYZgoPuPZks9DkYA8B_HhLqm8LbNo1q5tnKv9WK5ZQibE_dg89ZtRK6HS4EbhfsbBty0FGI8JWVmFADui9VRpX2kRlONCWK_hMGNYE4-9_de9eRbkUqyXLbYhztQ90EkpFdvgbXdTD0pz-w0kOwegbty8geBp1KDPxLF8DcWwraLIuEMVwmXoz9RtU5sZiHYTtMDhX2Li4Za8CDYG3ZDlomvJHwCdT-zs4eTguDCyOr_QPFrvMtG-F785Fn2qTlimdIddkdSLMeyYKxkr7etc7n4vyBMJLk6N9z0Tr4sezeyIg2MFVPFjDhS7YLYoSOaW5d6jbS9OF535Uv7U3vAdtkMLvsPGKftU6bkmK1kosavtW68Ok87QPseO2zbWVYTPH34o342HURa_RsKnKOZs7YH4dOtuddEvMnJ7dpn_fMAvvAzmKu56U-Y8d6WCReUcr0zn8Glwf2Z9r_IUw6QWUYUq_Hb9VH0eeSxfeJQ5Dfmn7zpaxVeuRb75difqTI4auk8YDEpdS1ny6hlD026A32ATmuRxW5w-_CgGNdagGUBzj9kVI6VkiDgAO3j_vGxhNyJt37jUjKsGq39tURPdUfB2Np_2KPsGtHbyt6wf_THOLpMtoe-q_iXD4FlahZocHmt8LDT5NgQfmAnNFI_hitctqLoDIt_E61ZxAEL6Y8KOv4tQ1RsI6lnAEZLneumFo5iJVdbMh5tUxnaJZi_LNds0ukZiudDwRN3NUuT56tnEKF51r1IO6x6lEEgIe8XYQn4iIjzgMyaW1imjfjjG-8AAn-_ZrnX9W6yyJTGF8JJ2Tskf0f2jHVzAhEPbgAinlBbevvEEMVAWcSad0Mg9dwQnlZswf-txcWS9B9JTKhRM7H_ukbR0FQzaiel88Kmt3ndw-L3sTTy9_WAnw.L4YljzA_Yvl-Oh3v34aMZg"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.idToken","eyJraWQiOiJEb2VCNHlBa2gyZE1wUkNEMjJuV1h2V2RRZTZON2k1RkJsYnZld1NUVVd3PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhYTUyNjQzMi0xY2M2LTRkYjktYTlhNS0wNzUxOTc1ZWQzNzgiLCJhdWQiOiIxdHRuZTE0ajMxMjFsbHQxMDh1OXE5cGNvOSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImYyNGQ2OWZhLWY4ZmItNGFmYS05MmIwLTI2YTYzNGQ3ZmY1NyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNTc0OTIwMjc0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85eUhFYWhQV3kiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWE1MjY0MzItMWNjNi00ZGI5LWE5YTUtMDc1MTk3NWVkMzc4IiwiZXhwIjoxNTc0OTIzODc2LCJpYXQiOjE1NzQ5MjAyNzYsImVtYWlsIjoidGhhbmgubmd1eWVubmdvY0BybWl0LmVkdS52biJ9.K5uI_VcVRFuG66X__kfaVjdtsu9da8OmO0at1LeUgs5-X0QmHvx5_V_CBpsrtHn8rPXLCV0AyzBmBI6pElxQLdrA2UzqnR4hWQTfJDN1goTi1ogjMwBvUy9O8MyxBCEE1DGdzU75JaFC09Y7ubKsdSdqyG8K3nnF9YktvKPHZCZ5A8Jc0M7wkXt3j2soY16XKe_aISYWJfBk4vdFWjQD-te4arW1wMTtiRj_Icl9jKFolcHkremf8DhdKAtni0_97HFwE2SewUILwbxROdRSznPrQ7uY-u3Se1XO-LDj5ELD55DtKOosVE_UvMWCV143e31dD7LZNQtjN-RGGzJpOQ"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.accessToken","eyJraWQiOiJiVlUxTkdqcGtzdUpDSURmdGQ4OVFZQWo2Ymk5eEZwb1pmajRONjVvbzY0PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhYTUyNjQzMi0xY2M2LTRkYjktYTlhNS0wNzUxOTc1ZWQzNzgiLCJldmVudF9pZCI6ImYyNGQ2OWZhLWY4ZmItNGFmYS05MmIwLTI2YTYzNGQ3ZmY1NyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE1NzQ5MjAyNzQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwvdXMtZWFzdC0xXzl5SEVhaFBXeSIsImV4cCI6MTU3NDkyMzg3NiwiaWF0IjoxNTc0OTIwMjc2LCJqdGkiOiJlMmNhYTFmZi0xYjA2LTRlMWYtODg3Zi04NjI1NmQ3NWVkNDYiLCJjbGllbnRfaWQiOiIxdHRuZTE0ajMxMjFsbHQxMDh1OXE5cGNvOSIsInVzZXJuYW1lIjoiYWE1MjY0MzItMWNjNi00ZGI5LWE5YTUtMDc1MTk3NWVkMzc4In0.R7fpC8m13dLNkIIBLLxgkK-C_5Rwe4gdYojqAiLzZoXGihJhAJM5W1emvJJ0DQ115ledQyK5S9duXlA5LEan84oFMM6d-h_u6IIUa3SWiWFdPIsmICLNux9MdzT2zZYtsbYhTCOZXDaBbwSIIwrLYGQ2f6yAwu7Ir9wz1vLRyfVvEoLs2vpFvcbZ9D6yQ4f30lpTw29tIQIxyGeyq9lMXLE6dBJeras8AUJyey_A--aB9DH3-h91UAKz_tI4OvnXRLFQlhivHGoRGbOCKf6HLUIhFhODOxAOP8IuHCPLn-V6GeYdg24bayuRPhjnugck0VCG0B-UoIBy7PSrdEujgg"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.aa526432-1cc6-4db9-a9a5-0751975ed378.clockDrift","-2"),localStorage.setItem("CognitoIdentityServiceProvider.1ttne14j3121llt108u9q9pco9.LastAuthUser","aa526432-1cc6-4db9-a9a5-0751975ed378"),localStorage.setItem("amplify-signin-with-hostedUI","false"),console.log("why did it pass?"),this.signUp();try{this.props.history.push("/")}catch(n){alert(n.message),this.setState({isLoading:!1})}}}},{key:"fetchMember",value:function(e){var t=this;e=localStorage.getItem("email");fetch("https://vietnamsachvaxanh.com/fetchUserByEmail",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userEmail:e})}).then((function(e){return e.json()})).then((function(e){e&&t.setState({phoneNumber:e.phoneNumber,age:e.age,gender:e.gender,isRegistered:e.isRegistered})}))}},{key:"render",value:function(){var e,t=this;if(this.state.isLoggedIn){if(console.log("FUCK",this.state.isRegistered),void 0!==this.state.isRegistered)return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"400px",margin:"auto",background:"#f4f4f4",padding:"20px"}},r.a.createElement("img",{src:this.state.imageUrl,alt:this.state.fname}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,"Welcome ",this.state.fname),r.a.createElement("h5",null,"Email: ",this.state.email),r.a.createElement("h5",null,"Age: ",this.state.age),r.a.createElement("h5",null,"Gender: ",this.state.gender),r.a.createElement("h5",null,"Phone Number: ",this.state.phoneNumber),r.a.createElement("button",{onClick:function(){t.handleSubmitNoSignUp()}}," Procceed to Page ")));e=r.a.createElement("div",null,r.a.createElement("div",{style:{width:"400px",margin:"auto",background:"#f4f4f4",padding:"20px"}},r.a.createElement("img",{src:this.state.imageUrl,alt:this.state.fname}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,"Welcome ",this.state.fname),r.a.createElement("h5",null,"Email: ",this.state.email),r.a.createElement("br",null),r.a.createElement("p",null,"You will need to provide additional info on the first sign-in with Facebook."),r.a.createElement(j.g,{controlId:"age",bsSize:"large"},r.a.createElement(j.e,null,"Age"),r.a.createElement(j.f,{value:this.state.age,onChange:this.onChangeAge,type:"age"}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-age"})),r.a.createElement(j.g,{controlId:"gender",bsSize:"large"},r.a.createElement(j.e,null,"Gender"),r.a.createElement(j.f,{value:this.state.gender,onChange:this.handleChange,type:"gender"}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-gender"})),r.a.createElement(j.g,{controlId:"phoneNumber",bsSize:"large"},r.a.createElement(j.e,null,"Phone Number"),r.a.createElement(j.f,{value:this.state.phoneNumber,onChange:this.onChangePhoneNumber,type:"phoneNumber"}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-phoneNumber"})),r.a.createElement("button",{onClick:function(){t.handleSubmit()}}," Procceed to Page ")))}else e=r.a.createElement(_.a,{appId:"985020555176750",autoLoad:!0,fields:"name,email,picture",callback:this.responseFacebook});return r.a.createElement("div",null,e)}}]),t}(l.Component),Q=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",null,r.a.createElement("br",null),r.a.createElement(G,this.props)))}}]),t}(l.Component),H=(a(405),a(1220));A.a.setApiKey("AIzaSyA4UwK6X9-Oa5SdAapdiNPE8nAPJ6INRxw"),A.a.enableDebug();var X=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).onChange=function(e){a.setState(Object(R.a)({},e.target.name,e.target.value))},a.state={},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),console.log(this.props.isAuthenticated)}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.props.appdata.name,onChange:this.props.onChangeName.bind(this)}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-name"})),r.a.createElement("label",null,"Time: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.props.appdata.time,onChange:this.props.onChangeTime.bind(this)}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-time"}),r.a.createElement("br",null),r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.props.appdata.description,onChange:this.props.onChangeDescription.bind(this)}),r.a.createElement("div",{style:{color:"red"},className:"error",id:"error-description"}),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Id"),r.a.createElement("input",{type:"text",name:"address",className:"form-control",readOnly:"readOnly",value:this.props.appdata.id}))),r.a.createElement("div",{className:"form-group"}))}}]),t}(l.Component);A.a.setApiKey("AIzaSyA4UwK6X9-Oa5SdAapdiNPE8nAPJ6INRxw"),A.a.enableDebug();var B=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).getState=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)if(e[a].types[0]&&"administrative_area_level_1"===e[a].types[0])return e[a].long_name},a.onChange=function(e){a.setState(Object(R.a)({},e.target.name,e.target.value))},a.onInfoWindowClose=function(e){},a.onMarkerDragEnd=function(e){var t=e.latLng.lat(),n=e.latLng.lng();A.a.fromLatLng(t,n).then((function(e){a.props.appdata.address=e.results[0].formatted_address;var l=a.props.appdata.address;e.results[0].address_components;a.setState({address:l||"",markerPosition:{lat:t,lng:n},mapPosition:{lat:t,lng:n}})}),(function(e){console.error(e)}))},a.onPlaceSelected=function(e){console.log("plc",e),a.props.appdata.address=e.formatted_address;var t=a.props.appdata.address,n=(e.address_components,e.geometry.location.lat()),l=e.geometry.location.lng();a.setState({address:t||"",markerPosition:{lat:n,lng:l},mapPosition:{lat:n,lng:l}})},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.state={mapPosition:{lat:a.props.center.lat,lng:a.props.center.lng},markerPosition:{lat:a.props.center.lat,lng:a.props.center.lng}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),console.log(this.props.isAuthenticated),A.a.fromLatLng(this.state.mapPosition.lat,this.state.mapPosition.lng).then((function(t){e.props.appdata.address=t.results[0].formatted_address;var a=e.props.appdata.address;e.setState({address:a||""})}),(function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=Object(T.withScriptjs)(Object(T.withGoogleMap)((function(t){return r.a.createElement(T.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng}},r.a.createElement(T.InfoWindow,{onClose:e.onInfoWindowClose,position:{lat:e.state.markerPosition.lat+.0028,lng:e.state.markerPosition.lng}},r.a.createElement("div",null,r.a.createElement("span",{style:{padding:0,margin:0}},e.props.appdata.address))),r.a.createElement(T.Marker,{google:e.props.google,name:"Dolores park",draggable:!0,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),r.a.createElement(T.Marker,null),r.a.createElement(L.a,{style:{width:"100%",height:"40px",paddingLeft:"16px",marginTop:"2px",marginBottom:"500px"},onPlaceSelected:e.onPlaceSelected,types:["(regions)"]}))}))),a=this.state.markerPosition;return void 0!==this.props.center.lat?r.a.createElement("div",null,r.a.createElement(X,this.props),r.a.createElement("br",null),r.a.createElement("div",{onClick:this.showModal,className:"form-group"},r.a.createElement("label",{htmlFor:""},"Address"),r.a.createElement("input",{type:"text",name:"address",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.address})),r.a.createElement(H.a,{title:r.a.createElement("h3",null,"Select a CleanUp Location"),visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,width:1e3},r.a.createElement(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA4UwK6X9-Oa5SdAapdiNPE8nAPJ6INRxw&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"110%"}}),containerElement:r.a.createElement("div",{style:{height:this.props.height}}),mapElement:r.a.createElement("div",{style:{height:"110%"}})}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.props.onSubmit.bind(this,a.lat,a.lng)},"Register Location"))):r.a.createElement("div",{style:{height:this.props.height}})}}]),t}(l.Component),K=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={isLoading:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.isAuthenticated),console.log(this.props),this.props.testDropping(),console.log(this.props.appdata.name)}},{key:"renderLander",value:function(){return r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Test web app"),r.a.createElement("p",null,"A simple react test app"))}},{key:"renderTest",value:function(){return r.a.createElement("div",{className:"test"},r.a.createElement(j.n,null,"Create a CleanUp Site! "),r.a.createElement(j.j,null,!this.state.isLoading),r.a.createElement(B,Object.assign({},this.props,{google:this.props.google,center:{lat:this.props.appdata.lat,lng:this.props.appdata.lng},height:"300px",zoom:this.props.appdata.zoom})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},(this.props.isAuthenticated,this.renderTest()))}}]),t}(l.Component),q=a(1217),$=a(1219),ee=a(1222),te=a(1218),ae=a(1214),ne=a(1216),le=a(57),re=a(1215),ie=Object(le.a)((function(e){return{head:{fontSize:20,backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(ee.a),oe=Object(le.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(ae.a),se=(Object(re.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700}}})),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={isLoading:!0,location:[],attended:0,cost:0,kilos:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){localStorage.getItem("email");return console.log(this.state.location),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement(ne.a,null,r.a.createElement(q.a,{"aria-label":"customized table"},r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ie,{align:"left"},this.props.data.name),r.a.createElement(ie,{align:"right"},"Gathered Amount\xa0(Kg)"),r.a.createElement(ie,{align:"right"},"Attended Number"),r.a.createElement(ie,{align:"right"},"Cost\xa0(VND)"))),r.a.createElement($.a,null,r.a.createElement(oe,null,r.a.createElement(ie,null," Number \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.a.createElement(ie,{align:"right"},this.props.data.input.attended),r.a.createElement(ie,{align:"right"},this.props.data.input.cost),r.a.createElement(ie,{align:"right"},this.props.data.input.kilos))))),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(l.Component)),ce=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={isLoading:!0,location:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"fetchLocation",value:function(){var e=this;console.log("fetch location"),fetch("https://vietnamsachvaxanh.com/location").then((function(e){return e.json()})).then((function(t){e.setState({location:t}),console.log(t)}))}},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchLocation();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTest",value:function(){var e=this;console.log(this.state.location);var t=this.state.location.map((function(t){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement(se,Object.assign({},e.props,{data:t})))}));return r.a.createElement("div",{className:"test"},r.a.createElement(j.n,null,"Outcome of each sites"),r.a.createElement("label",null,"If the value is 0, the owner has probably not entered the value of outcome."),t)}},{key:"render",value:function(){return this.renderTest()}}]),t}(l.Component),me=a(139),ue=a(131),de=[],he=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={fName:"",lName:"",age:"",gender:"",phoneNumber:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"fetchMember",value:function(e){var t=this;fetch("https://vietnamsachvaxanh.com/fetchUserByEmail",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userEmail:this.props.data})}).then((function(e){return e.json()})).then((function(e){console.log(e);var a=JSON.stringify(e.fName),n=JSON.stringify(e.phoneNumber),l=e.fName,r=e.lName,i=e.age,o=e.gender,s=e.phoneNumber;t.setState({fName:l,lName:r,age:i,gender:o,phoneNumber:s}),t.collectData(a,n)}))}},{key:"windowOnload",value:function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}},{key:"collectData",value:function(e,t){de.push("Name: "+e+" Phone Number: "+t+" Email: "+this.props.data+"||||||"),this.setState({arr:de}),localStorage.setItem("members",this.state.arr)}},{key:"componentDidMount",value:function(){this.fetchMember(this.props.data)}},{key:"render",value:function(){var e=this.state,t=e.fName,a=e.lName,n=e.age,l=e.gender,i=e.phoneNumber;return r.a.createElement("div",null,t," ",a," ",r.a.createElement("br",null),this.props.data," ",r.a.createElement("br",null),n," ",r.a.createElement("br",null),l," ",r.a.createElement("br",null),i," ",r.a.createElement("br",null),r.a.createElement("hr",null))}}]),t}(l.Component),pe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={visible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.state={members:localStorage.getItem("members")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"windowOnload",value:function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}},{key:"render",value:function(){var e=a(171),t=this.props.data.members.map((function(e){return r.a.createElement(he,{data:e})}));this.props.data.members,e.stringify(this.state.members);return r.a.createElement("div",null,r.a.createElement("a",{onClick:this.showModal},"List Of Members"),r.a.createElement(H.a,{title:this.props.data.members.length+" members",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},t,r.a.createElement("button",{className:"btn"},r.a.createElement(y.a,{to:"/DownloadRedirect",target:"_blank"},"Download Members"))))}}]),t}(l.Component);A.a.setApiKey("AIzaSyA4UwK6X9-Oa5SdAapdiNPE8nAPJ6INRxw"),A.a.enableDebug();var ge=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).getState=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)if(e[a].types[0]&&"administrative_area_level_1"===e[a].types[0])return e[a].long_name},a.onChange=function(e){a.setState(Object(R.a)({},e.target.name,e.target.value))},a.onInfoWindowClose=function(e){},a.onPlaceSelected=function(e){var t=e.formatted_address,n=(e.address_components,e.geometry.location.lat()),l=e.geometry.location.lng();a.setState({address:t||"",mapPosition:{lat:n,lng:l}})},a.onChangeName=a.onChangeName.bind(Object(E.a)(a)),a.onChangeTime=a.onChangeTime.bind(Object(E.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.state={mapPosition:{lat:a.props.center.lat,lng:a.props.center.lng},markerPosition:{lat:a.props.center.lat,lng:a.props.center.lng}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeTime",value:function(e){this.setState({time:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.registerLocation(),this.setState({name:"",time:"",description:""})}},{key:"componentDidMount",value:function(){var e=this;A.a.fromLatLng(this.state.mapPosition.lat,this.state.mapPosition.lng).then((function(t){var a=t.results[0].formatted_address;e.setState({address:a||""})}),(function(e){console.error(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.markerPosition.lat!==this.props.center.lat||this.state.address!==t.address||this.props.center.lat!==e.center.lat&&void 0}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"render",value:function(){var e=this,t=Object(T.withScriptjs)(Object(T.withGoogleMap)((function(t){return r.a.createElement(T.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng}},r.a.createElement(T.InfoWindow,{onClose:e.onInfoWindowClose,position:{lat:e.state.markerPosition.lat+.0018,lng:e.state.markerPosition.lng}},r.a.createElement("div",null,r.a.createElement("span",{style:{padding:0,margin:0}},e.state.address))),r.a.createElement(T.Marker,{google:e.props.google,name:"Dolores park",onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),r.a.createElement(T.Marker,null))})));return void 0!==this.props.center.lat?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA4UwK6X9-Oa5SdAapdiNPE8nAPJ6INRxw&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:this.props.height}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"}))):r.a.createElement("div",{style:{height:this.props.height}})}}]),t}(l.Component),be=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.name,a=e.address,n=e.time,l=e.description;e.dataLat,e.dataLng;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("b",null,"Name:")," ",t,r.a.createElement("br",null),r.a.createElement("b",null,"Address:")," ",a,r.a.createElement("br",null),r.a.createElement("b",null,"Time:")," ",n,r.a.createElement("br",null),r.a.createElement("b",null,"Description:")," ",l,r.a.createElement(ge,{google:this.props.google,center:{lat:parseFloat(localStorage.getItem("lat")),lng:parseFloat(localStorage.getItem("lng"))},height:"300px",zoom:15}))}}]),t}(r.a.Component),Ee=Object(le.a)((function(e){return{head:{fontSize:20,backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(ee.a),fe=Object(le.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(ae.a),ve=(Object(re.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700}}})),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.onChangeKilos=a.onChangeKilos.bind(Object(E.a)(a)),a.onChangeCost=a.onChangeCost.bind(Object(E.a)(a)),a.onChangeAttended=a.onChangeAttended.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.state={isLoading:!0,kilos:0,attended:0,cost:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onSubmit",value:function(){var e=this.state;e.kilos,e.attended,e.cost;this.registerInput(),this.setState({kilos:0,attended:0,cost:0})}},{key:"registerInput",value:function(){var e=this.state,t=e.kilos,a=e.attended,n=e.cost,l=parseFloat(t),r=parseFloat(a),i=parseFloat(n);fetch("https://vietnamsachvaxanh.com/Input",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({locationId:this.props.locationId,input:{kilos:l,attended:r,cost:i}})}).then((function(e){return e.json()}),window.location.reload())}},{key:"onChangeKilos",value:function(e){this.setState({kilos:e.target.value})}},{key:"onChangeAttended",value:function(e){this.setState({attended:e.target.value})}},{key:"onChangeCost",value:function(e){this.setState({cost:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",null,"Input data after cleanup completion"),r.a.createElement(j.j,null,!this.state.isLoading),r.a.createElement(ne.a,null,r.a.createElement(q.a,{"aria-label":"customized table"},r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(Ee,null,"CleanUp Data"),r.a.createElement(Ee,{align:"right"},"Gathered Amount\xa0(Kg)"),r.a.createElement(Ee,{align:"right"},"Attended Number"),r.a.createElement(Ee,{align:"right"},"Cost\xa0(VND)"))),r.a.createElement($.a,null,r.a.createElement(fe,null,r.a.createElement(Ee,null," Number"),r.a.createElement(Ee,{align:"right"},this.props.input.kilos),r.a.createElement(Ee,{align:"right"},this.props.input.attended),r.a.createElement(Ee,{align:"right"},this.props.input.cost))))),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn btn-primary pull-right",onClick:this.showModal},"Input / Edit"),r.a.createElement(H.a,{title:r.a.createElement("h3",null,"Fill in information after Site CleanUp"),visible:this.state.visible,onOk:this.onSubmit.bind(this),onCancel:this.handleCancel},r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Amount of collected waste(kilos) : "),r.a.createElement("input",{className:"form-control",value:this.state.kilos,onChange:this.onChangeKilos})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Amount of attendees:  "),r.a.createElement("input",{className:"form-control",value:this.state.attended,onChange:this.onChangeAttended})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Cost of operation (VND): "),r.a.createElement("input",{className:"form-control",value:this.state.cost,onChange:this.onChangeCost})))))}}]),t}(l.Component)),ye=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={name:"",address:"",members:[],time:"",locationOwner:"",dataLat:0,dataLng:0,input:{}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"fetchOwner",value:function(e){var t=this;fetch("https://vietnamsachvaxanh.com/fetchUserByEmail",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userEmail:e})}).then((function(e){return e.json()})).then((function(e){if(e){var a=e.fName,n=e.lName,l=e.age,r=e.gender;t.setState({fName:a,lName:n,age:l,gender:r})}}))}},{key:"fetchLocation",value:function(e){var t=this;fetch("https://vietnamsachvaxanh.com/locationDetails",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({locationId:this.props.match.params.id})}).then((function(e){return e.json()})).then((function(e){var a=e.name,n=e.address,l=e.time,r=e.description,i=e.lat,o=e.lng,s=e.locationOwner,c=e.members,m=e.input;t.setState({name:a,address:n,time:l,description:r,dataLat:i,dataLng:o,locationOwner:s,members:c,input:m}),t.fetchOwner(s),localStorage.setItem("lat",t.state.dataLat),localStorage.setItem("lng",t.state.dataLng),t.windowOnload()}))}},{key:"windowOnload",value:function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}},{key:"componentDidMount",value:function(){this.fetchLocation(this.props.match.params.id)}},{key:"userCancelJoin",value:function(e,t){e.splice(e.indexOf(t),1),this.setState({members:e}),this.sendJoin(e)}},{key:"sendJoin",value:function(e){var t=this;fetch("https://vietnamsachvaxanh.com/joinLocation",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({locationId:this.props.match.params.id,members:e})}).then((function(e){return e.json()})).then((function(e){return t.fetchLocation(t.props.match.params.id)}))}},{key:"userJoinLocation",value:function(e,t){e.push(t),this.setState({members:e}),this.sendJoin(e)}},{key:"joinLocation",value:function(){var e=this.state.members,t=localStorage.getItem("email");this.props.match.params.id;e.includes(t)?this.userCancelJoin(e,t):this.userJoinLocation(e,t)}},{key:"render",value:function(){var e=this.state,t=e.members,a=e.fName,n=e.lName,l=e.age,i=e.gender,o=e.locationOwner,s=localStorage.getItem("email");return localStorage.getItem("email")===o?r.a.createElement("div",null,r.a.createElement(j.o,null,r.a.createElement(j.d,{lg:8},r.a.createElement("b",null,"Basic info and map"),r.a.createElement(be,Object.assign({},this.props,{data:this.state}))),r.a.createElement(j.d,{lg:4},r.a.createElement("b",null,"Contact Info"),r.a.createElement("br",null),a," ",n," ",r.a.createElement("br",null),o," ",r.a.createElement("br",null),l," years old ",r.a.createElement("br",null),i," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{data:this.state}),r.a.createElement(me.a,{ghost:!!t.includes(s),type:t.includes(s)?"primary":"default",onClick:this.joinLocation.bind(this)},t.includes(s)?"Joined":"Join"))),r.a.createElement(ve,{locationId:this.props.match.params.id,input:this.state.input}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement(j.o,null,r.a.createElement(j.d,{lg:8},r.a.createElement("b",null,"Basic info and map"),r.a.createElement(be,Object.assign({},this.props,{data:this.state}))),r.a.createElement(j.d,{lg:4},r.a.createElement("b",null,"Contact Info"),r.a.createElement("br",null),a," ",n," ",r.a.createElement("br",null),o," ",r.a.createElement("br",null),l," years old ",r.a.createElement("br",null),i," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{data:this.state}),r.a.createElement(me.a,{ghost:!!t.includes(s),type:t.includes(s)?"primary":"default",onClick:this.joinLocation.bind(this)},t.includes(s)?"Joined":"Join"))))}}]),t}(l.Component),Oe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={members:localStorage.getItem("members")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderTest",value:function(){var e=a(171).stringify(this.state.members);return r.a.createElement("div",{className:"test"},r.a.createElement(j.n,null,"Your Download Is Ready! "),r.a.createElement(ue.CSVLink,{data:e,filename:"my-file.csv",className:"btn btn-primary",target:"_blank"},"Click Here to Download"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},(this.props.isAuthenticated,this.renderTest()))}}]),t}(l.Component),je=a(435),ke=a.n(je),Ie=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={feedback:"",feedbackTitle:"",name:localStorage.getItem("email"),email:localStorage.getItem("email")},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleChangeTitle=a.handleChangeTitle.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"sendFeedback",value:function(e,t,a){var n={requester_email:this.state.email,feedbackTitle:this.state.feedbackTitle,feedback:this.state.feedback};ke.a.send("vnclean_green","template_x593QfMH",n,"user_fUIi3DXmEKTq1SDEYsLg3").then((function(e){console.log("Email successfully sent!")})).catch((function(e){return console.error("Oh well, you failed. Here some thoughts on the error that occured:",e)}))}},{key:"render",value:function(){return r.a.createElement("form",{className:"test-mailing",style:{justifyContent:"center",alignItems:"center",marginRight:"300px",marginLeft:"300px"}},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Contact Support"),r.a.createElement("br",null),r.a.createElement("h3",null,"Title of request"),r.a.createElement("textarea",{id:"test-mailing",name:"test-mailing",onChange:this.handleChangeTitle,placeholder:"Title of request",required:!0,value:this.state.feedbackTitle,style:{width:"100%",height:"50px",fontSize:18}}),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h3",null,"Please Describe Your Issue"),r.a.createElement("textarea",{id:"test-mailing",name:"test-mailing",onChange:this.handleChange,placeholder:"Request Description",required:!0,value:this.state.feedback,style:{width:"100%",height:"150px",fontSize:16}})),r.a.createElement("input",{type:"button",value:"Submit",className:"btn btn--submit",onClick:this.handleSubmit}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}},{key:"routeChange",value:function(){this.props.history.push("/EmailjsRedirect")}},{key:"handleChange",value:function(e){this.setState({feedback:e.target.value})}},{key:"handleChangeTitle",value:function(e){this.setState({feedbackTitle:e.target.value})}},{key:"handleSubmit",value:function(e,t){this.sendFeedback("vnclean_green",{message_html:this.state.feedback,from_name:this.state.name,reply_to:this.state.email}),this.routeChange()}}]),t}(r.a.Component),Ne=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={members:localStorage.getItem("members")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderTest",value:function(){a(171).stringify(this.state.members);return r.a.createElement("div",{className:"test"},r.a.createElement(j.n,null,"Your support request has been sent "),r.a.createElement("label",null,"Please be patience, our team is on the way"),r.a.createElement("br",null),r.a.createElement("p",null,"Click home to go back to front page"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},(this.props.isAuthenticated,this.renderTest()))}}]),t}(l.Component),Ce=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={members:localStorage.getItem("members")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderTest",value:function(){a(171).stringify(this.state.members);return r.a.createElement("div",{className:"test"},r.a.createElement(j.n,null,"About Us "),r.a.createElement(j.c,null,r.a.createElement(j.c.Item,{style:{height:350}},r.a.createElement("img",{className:"d-block w-100",src:"http://build-projects.org/wp-content/uploads/2018/10/svx-logo.png",alt:"First slide"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"Our goal at ",r.a.createElement("strong",null,"Keep Vietnam Clean & Green (KVCG)")," is to raise awareness about the litter & trash problem in Vietnam. While we understand there are many other issues that impact the environment, our focus is on littering, as we believe it to be the most basic of environmental issues and the foundational basis of environmental education. We believe, \u201cHow can we educate people about issues like climate change, sustainable building, reusable energies and recycling when we can\u2019t get the general population to stop littering?\u201d"),r.a.createElement("h4",null,r.a.createElement("br",null),r.a.createElement("br",null),"Our first program, started in June 2013, was the Green Ribbon Campaign that won the international Youth4Asia competition sponsored by the Asian Development Bank in 2015 when we worked with 15 universities in Vietnam to get over 40,000 pledges to not litter. We were honored to present our program to the Environment Ministers of all the countries in the Greater Mekong Region in Myanmar and then again in 2016 at the Asia Youth Conference in the Philippines.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"In April 2015, we started our second program the Community Clean Ups on Phu Quoc Island. We have, since then, also organized clean ups in Han Noi, HCMC, Hoi An, Hue and Can Tho and have engaged over organizations to join the clean ups.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"In 2016, we developed the characters for the Green Turtle Army, a campaign targeting children. We are excited as these mascots will educate children about the negative impacts of littering. Our partners in this effort are (1) RMIT University\u2019s Centre of Communication and Design, whose students designed the characters and (2) Saigon South International School, whose elementary and middle school students helped to create activities based on the Green Turtle Army characters.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Our Inspiration"),r.a.createElement("br",null),"In developed countries, organizations that combat litter are numerous. We draw our inspiration from them and aspire to be like them. Our main source of inspiration is the four organizations below, including:",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"\u2022 Keep America Beautiful (founded in 1953)",r.a.createElement("br",null),r.a.createElement("br",null),"\u2022 Keep Britain Tidy (founded in 1955)",r.a.createElement("br",null),r.a.createElement("br",null),"\u2022 Keep Australia Beautiful (founded in 1969)",r.a.createElement("br",null),r.a.createElement("br",null),"\u2022 Don\u2019t Mess With Texas (founded in 1985)",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Since all of them were established for so many years ago and still exist until today, we believe that this battle will take patience and endurance."))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},(this.props.isAuthenticated,this.renderTest()))}}]),t}(l.Component),Se=function(e){var t=e.childProps;return r.a.createElement(k.a,null,r.a.createElement(C,{path:"/",exact:!0,component:U,props:t}),r.a.createElement(C,{path:"/createLocation",exact:!0,component:B,props:t}),r.a.createElement(C,{path:"/login",exact:!0,component:V,props:t}),r.a.createElement(C,{path:"/signup",exact:!0,component:F,props:t}),r.a.createElement(C,{path:"/loginWFacebook",exact:!0,component:Q,props:t}),r.a.createElement(C,{path:"/CreateLocationPage",exact:!0,component:K,props:t}),r.a.createElement(C,{path:"/createVolunteer",exact:!0,component:ce,props:t}),r.a.createElement(C,{path:"/location/:id",exact:!0,component:ye,props:t}),r.a.createElement(C,{path:"/createLocatonInfo",exact:!0,component:X,props:t}),r.a.createElement(C,{path:"/Emailjs",exact:!0,component:Ie,props:t}),r.a.createElement(C,{path:"/EmailjsRedirect",exact:!0,component:Ne,props:t}),r.a.createElement(C,{path:"/ReportPage",exact:!0,component:ce,props:t}),r.a.createElement(C,{path:"/AboutUs",exact:!0,component:Ce,props:t}),r.a.createElement(C,{path:"/DownloadRedirect",exact:!0,component:Oe,props:t}),r.a.createElement(I.a,{component:W}))},we=(a(1200),a(409),a(1201),"https://vietnamsachvaxanh.com/location"),Le=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).userHasAuthenticated=function(e){a.setState({isAuthenticated:e})},a.handleLogout=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.signOut();case 2:localStorage.clear(),a.userHasAuthenticated(!1),a.props.history.push("/login");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",time:"",address:"",description:"",lat:10.8231,lng:106.6297,isAuthenticated:!1,isAuthenticating:!0,id:"",zoom:15,siteOwner:"",userType:"",adminEmail:"",error_name:"",error_time:"",error_description:""},a.testDropping=a.testDropping.bind(Object(E.a)(a)),a.onChangeName=a.onChangeName.bind(Object(E.a)(a)),a.onChangeTime=a.onChangeTime.bind(Object(E.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.handleEdit=a.handleEdit.bind(Object(E.a)(a)),a.handleDeleteLocation=a.handleDeleteLocation.bind(Object(E.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"handleEdit",value:function(e,t,a,n,l,r,i){console.log("handleEdit",r,i),this.setState({id:n,name:e,time:l,description:a,lat:r,lng:i,cost:0,kilos:0,attended:0}),this.props.history.push("/CreateLocationPage")}},{key:"handleDeleteLocation",value:function(e){console.log("delete this",e),window.confirm("Are you sure?")&&fetch(we+"/"+e,{method:"delete"}).then((function(e){return window.location.reload()}),console.log("delete phase2"))}},{key:"editLocation",value:function(e,t){var a=this;console.log("editLocation function");var n=this.state,l=n.id,r=n.name,i=n.address,o=n.description,s=n.time;console.log(this.state.id,r,i,o,e,t,s),console.log("outputting lat",e,"lng",t),fetch(we,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"put",body:JSON.stringify({locationId:l,name:r,address:i,time:s,description:o,lng:t,lat:e,locationOwner:localStorage.getItem("email")})}).then((function(e){return e.json(a.props.history.push("/"))}))}},{key:"testDropping",value:function(){console.log("test dropping")}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeTime",value:function(e){this.setState({time:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"checkRegistrationForm",value:function(){var e=!0;return this.state.error_name="",this.state.error_time="",this.state.error_description="",(void 0==this.state.time||this.state.time.length<1)&&(this.state.error_time="Please enter a valid date ",e=!1),(void 0==this.state.name||this.state.name.length<10)&&(this.state.error_name="Your location name is invalid, please include more than 10 characters ",e=!1),(void 0==this.state.description||this.state.description.length<9)&&(this.state.error_description="The description must contain more than 25 letters ",e=!1),document.getElementById("error-time").innerHTML=this.state.error_time,document.getElementById("error-name").innerHTML=this.state.error_name,document.getElementById("error-description").innerHTML=this.state.error_description,e}},{key:"onSubmit",value:function(e,t,a){if(""==this.state.id){if(console.log("register"),a.preventDefault(),!this.checkRegistrationForm())return;this.registerLocation(e,t),console.log("The values are ".concat(this.state.name,", ").concat(this.state.time,",  \n\t\t").concat(this.state.description,", ").concat(this.state.address,", and  lat ").concat(e,", lng ").concat(t)),this.setState({name:"",time:"",description:"",lat:"",lng:""})}else console.log("poop"),this.editLocation(e,t)}},{key:"registerLocation",value:function(e,t){var a=this,n=this.state;n.name,n.address,n.time,n.description;console.log("lat",e,"lng",t),fetch(we,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:this.state.name,address:this.state.address,time:this.state.time,description:this.state.description,lng:t,lat:e,locationOwner:localStorage.getItem("email"),input:{attended:0,cost:0,kilos:0}})}).then((function(e){return e.json(a.props.history.push("/"))}))}},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.currentSession();case 3:if(!e.sent){e.next=7;break}this.userHasAuthenticated(!0),this.setState({adminEmail:localStorage.getItem("email")}),this.fetchOwner();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 12:this.setState({isAuthenticating:!1}),this.fetchOwner();case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"windowOnload",value:function(){console.log("load"),window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}},{key:"fetchOwner",value:function(){var e=this;fetch("https://vietnamsachvaxanh.com/fetchUserByEmail",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userEmail:this.state.adminEmail})}).then((function(e){return e.json()})).then((function(t){if(t){var a=t.fName,n=t.lName,l=t.age,r=t.gender,i=t.userType;e.setState({fName:a,lName:n,age:l,gender:r,userType:i})}}))}},{key:"render",value:function(){var e={appdata:this.state,testDropping:this.testDropping,isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated,onChangeDescription:this.onChangeDescription,onChangeName:this.onChangeName,onChangeTime:this.onChangeTime,onSubmit:this.onSubmit,handleEdit:this.handleEdit,handleDeleteLocation:this.handleDeleteLocation};return"admin"===this.state.userType?r.a.createElement("div",{className:"App container"},r.a.createElement(j.m,{fluid:!0,collapseOnSelect:!0},r.a.createElement(j.m.Header,null,r.a.createElement(j.m.Brand,null,r.a.createElement(y.a,{to:"/"},"Vietnam Sach va Xanh ")),r.a.createElement(j.m.Toggle,null)),r.a.createElement(j.m.Collapse,null,r.a.createElement(j.k,{pullRight:!0},this.state.isAuthenticated?r.a.createElement(l.Fragment,null,r.a.createElement(j.l,null,r.a.createElement(y.a,{to:"/ReportPage"},"Run Report")),r.a.createElement(j.l,null,r.a.createElement(y.a,{to:"/CreateLocationPage"},"Create Location")),r.a.createElement(j.l,{onClick:this.handleLogout},"Logout")):r.a.createElement(l.Fragment,null,r.a.createElement(v.LinkContainer,{to:"/signup"},r.a.createElement(j.l,null,"Signup")),r.a.createElement(v.LinkContainer,{to:"/login"},r.a.createElement(j.l,null,"Login")),r.a.createElement(v.LinkContainer,{to:"/loginWFacebook"},r.a.createElement(j.l,null,"Facebook Login")))))),r.a.createElement(Se,{childProps:e}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.m,{fluid:!0,collapseOnSelect:!0,fixed:"bottom"},r.a.createElement(j.m.Header,null,r.a.createElement(j.m.Brand,null),r.a.createElement(j.m.Toggle,null)),r.a.createElement(j.m.Collapse,null,r.a.createElement(j.k,{pullRight:!0},this.state.isAuthenticated?r.a.createElement(l.Fragment,null,r.a.createElement(j.l,null,r.a.createElement(y.a,{to:"/AboutUs"},"About Us")),r.a.createElement(j.l,null,r.a.createElement(y.a,{to:"/Emailjs"},"Contact Support"))):r.a.createElement(l.Fragment,null))))):r.a.createElement("div",{className:"App container"},r.a.createElement(j.m,{fluid:!0,collapseOnSelect:!0},r.a.createElement(j.m.Header,null,r.a.createElement(j.m.Brand,null,r.a.createElement(y.a,{to:"/"},"Vietnam Sach va Xanh")),r.a.createElement(j.m.Toggle,null)),r.a.createElement(j.m.Collapse,null,r.a.createElement(j.k,{pullRight:!0},this.state.isAuthenticated?r.a.createElement(l.Fragment,null,r.a.createElement(j.l,null,r.a.createElement(y.a,{to:"/CreateLocationPage"},"Create Location")),r.a.createElement(j.l,{onClick:this.handleLogout},"Logout")):r.a.createElement(l.Fragment,null,r.a.createElement(v.LinkContainer,{to:"/signup"},r.a.createElement(j.l,null,"Signup")),r.a.createElement(v.LinkContainer,{to:"/login"},r.a.createElement(j.l,null,"Login")),r.a.createElement(v.LinkContainer,{to:"/loginWFacebook"},r.a.createElement(j.l,null,"Facebook Login")))))),r.a.createElement(Se,{childProps:e}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.m,{fluid:!0,collapseOnSelect:!0,fixed:"bottom"},r.a.createElement(j.m.Header,null,r.a.createElement(j.m.Brand,null),r.a.createElement(j.m.Toggle,null)),r.a.createElement(j.m.Collapse,null,r.a.createElement(j.k,{pullRight:!0},this.state.isAuthenticated?r.a.createElement(l.Fragment,null,r.a.createElement(j.l,null,r.a.createElement(y.a,{to:"/Emailjs"},"Contact Support"))):r.a.createElement(l.Fragment,null)))))}}]),t}(l.Component),Te=Object(O.a)(Le),Me={REGION:"us-east-1",URL:"https://nx7eiabksh.execute-api.us-east-1.amazonaws.com/dev"},Ae={REGION:"us-east-1",USER_POOL_ID:"us-east-1_9yHEahPWy",APP_CLIENT_ID:"1ttne14j3121llt108u9q9pco9",IDENTITY_POOL_ID:"us-east-1:acf4cbb3-1e98-42e8-853d-cccded0ed0c8"},xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.b.configure({Auth:{mandatorySignIn:!0,region:Ae.REGION,userPoolId:Ae.USER_POOL_ID,identityPoolId:Ae.IDENTITY_POOL_ID,userPoolWebClientId:Ae.APP_CLIENT_ID},API:{endpoints:[{name:"testApiCall",endpoint:Me.URL,region:Me.REGION}]}}),o.a.render(r.a.createElement(c.a,null,r.a.createElement(Te,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");xe?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Pe(e)}))}}()},151:function(e,t,a){},196:function(e,t){},202:function(e,t){},404:function(e,t,a){},409:function(e,t,a){},448:function(e,t,a){e.exports=a(1202)}},[[448,1,2]]]);
//# sourceMappingURL=main.e1756621.chunk.js.map